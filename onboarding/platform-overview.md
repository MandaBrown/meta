# Architecture Overview

Think Through Math is a Software-as-a-Service platform, accessible at [https://lms.thinkthroughmath.com](https://lms.thinkthroughmath.com). The core platform is a [Ruby on Rails](http://rubyonrails.org) Web application. Its primary data store is a PostgreSQL database, although we use [Redis](http://redis.io/) for caching and background job/queue processing. We use [S3](http://aws.amazon.com/s3/) and [Cloudfront](http://aws.amazon.com/cloudfront/) for static asset management, since our environment is hosted on the [Amazon Web Services](http://aws.amazon.com/) public cloud. Colloquially this application is known as apangea, which was the company name when development on this version of the platform was first started in 2012.

This document is intended to be the starting point for understanding the high-level architecture for the TTM platform. TTM has a number of sub-components that perform special functions in the application and do not necessarily use the same tech stack. The subcomponents, along with their purpose, are:
* **Lesson Player**: The lesson player is the primary interface for students doing math work. It uses the [single-page-app](https://en.wikipedia.org/wiki/Single-page_application) paradigm and basically treats the main Rails app as an API. The primary codebase is [Backbone.js](http://backbonejs.org/) with [Marionette](http://marionettejs.com/). It makes heavy use of caching to minimize the load on customer networks, and is optimized for speed and response time.
* **Data Warehouse**: The data warehouse is designed to support highly-efficient, largely read-only queries for customer-facing and internal reporting purposes. It uses the [Active Warehouse](http://www.activewarehouse.info/) framework, which implements the [Extract Transform Load (ETL) model](https://en.wikipedia.org/wiki/Extract,_transform,_load) commonly found in data warehouse solutions.
* **Live Teaching**: Live teaching is a companion application that allows TTM live teachers to support students in real time through the platform, with both text and audio chat. It's implemented as a node.js application with Express for Web interfaces and faye for messaging and transmission.
* **Avatar Builder**: The avatar builder was an internally-developed replacement for a motivational component we previously licensed from Bunchball. It is based on SVG so performs well on all of TTM's supported devices. 
* **Games**: TTM's games were developed by a third party, [GameGurus](http://www.gamegurus.com/), based on TTM requirements. They are built in the [impact.js framework](http://impactjs.com/) using HTML5 and are designed to play on any device without a native app.
